---
date: '2023-04-04'
title: '네트워크 개념 정리 (1)'
categories: ['Network', 'vue']
index: 4
domain: 'Infra'
sideTitle: 'Network'
summary: '웹 개발에 필요한 네트워크 관련 개념 정리입니다.'
thumbnail: './thumbnail/mainImage.jpg'
categoryIcon: '../sumnail.png'
---
<div>

</div>

#### 1. 개요
---

프로젝트를 진행하면서 네트워크 쪽 개념을 한번 정리하고 가고 싶은 생각이 들곤 하였다.

기본적인 네트워크 개념을 정리하면서 그동안 알고 있던 지식과 잘못된 개념들을 다시 정립하는 기회가 되었으면 좋겠다.

#### 2. 인터넷 통신
---

```command
웹의 정의
- 간단히 말하자면 인터넷에 연결된 사용자들이 서로의 정보를 공유할 수 있는 공간을 의미한다.
```
![image](https://user-images.githubusercontent.com/56063287/229720080-de3d4f66-4d8e-41c5-b178-fbb5b89488ae.png)

1. 클라이언트는 서버로 데이터 패킷을 전달한다.
2. 패킷은 인터넷상의 각각의 노드를 거쳐서 서버에 도달하게 된다.
3. 서버는이에 대한 응답을 보내 통신한다.

#### 3. 인터넷 프로토콜
---


`IP 주소`를 통해서 출발지와 목적지가 정해지는 것이다.

즉, 식별하기 위해서 `IP` 는 꼭 필요하다.

프로토콜의 역할은 `지정한 IP 에 데이터를 전달하기 위해서` 이다.
즉, 이말은 결국 역할은 `보안` 이 중요한 것이다.

- 패킷에는 출발 목적지가 꼭 필요하다.

1. 비연결성()
2. 비신뢰성(stateless)
 - 순서가 보장되지 않는다.
 - **이러한 비순서성을 해결하기 위해 TCP, UDP 의 역할이다.**
3. 프로그램 구분
 - 같은 IP 이긴 하지만, 애플리케이션은 다를 수 있다.

### 인터넷 프로토콜 계층

1. 애플리케이션 계층 - HTTP, FTP
2. 전송 계층 - TCP, UDP
3. 인터넷 계층 - IP
4. 네트워크 인터페이스 계층

서버 -> LAN 카드 -> 인터넷 -> 전송 -> 애플리케이션 
(역순)
- TCP 에는 순서가 있다. 각각 내려갈때 정보를 랩핑해가면서 내려간다.

### TCP
---

1. 연결지향 - 3 Handshake 이후 패킷 데이터가 전송 가능
2. 데이터 전달
3. 순서 보장

### UDP
---

연결지향 노
데이터 전달 보증 노
순서보장 노

IP + PORT + CheckSUM

데이터 전달 및 순서가 보장되지는 않지만 단순하고 빠름

### PORT
---

한번에 둘 이상의 연결하기 위해서
즉, 하나의 클라이언트에서 여러 애플리케이션을 한 서버에서 하기 위해서

포트가 필요한 이유는 같은 인터넷 프로토콜 내에서 각각의 다른 애플리케이션 네트워크를 구분할 수 있다.

즉, 프로세스별 구분자는 포트라고 하면 된다.

### 도메인
---

1. 아이피는 의미없는 숫자이기 때문에 기억하기 어렵다.
2. IP 는 변경될 수 있다. 따라서, 만약 IP 가 변경되었다고 할때 모두에게 공유하기 힘들다.
즉, 급변하는 상황에 대해서 대응이 힘들다.

#### URI 와 웹 브라우저의 흐름
---

`URL`, `URI`, `URN` 은 개념이 혼동된다.

URI 가 큰개념이고 그안에 URL, URN 을 포함하고있다.

결국 URL 과 URI 는 같은 개념이지만 포함관계가 있다.

URL 은 대충 목적지가 명확한 로케이션 측면으로 생각하면 되며,
URI 는 REST 인터페이스와 같은 것들을 하는것이 괜찮을 것 같다.

호스트는 도메인명
포트는 접속 포트
Path 는 폴더구조 즉, 리소스의 경로
프레그먼트(#) 는 서버에 전송하는 정보가 아닌 내부 북마크 즉 a 태그의 목적지라고 보면 된다.

#### 웹 브라우저의 요청 흐름
---

구글을 간다.
https://www.google.com:443/search?q=hello&hl=ko

1. 브라우저는 호스트 정보만 요청하면 렌카드(인터페이스) 를 통해서 어플리케이션으로 가는데 추가적인 인터페이스(NGINX) 같은 것들을 추가적으로 탄다. 여기서 여러가지 셋팅들을 한다.

2. 즉, NGINX 같은 두번째 인터페이스라고 생각하면된다, 네트워크 계층에서 전달된 패킷들을 한번 더 정재하기 위함이다.

#### HTTP
---

서버간에 데이터를 주고받을때도 HTTP 를 사용한다.

HTTP3 부터는 순서보장이 자체적으로 가능하기 때문에 TCP 대신에 UDP 사용 가능

왜냐하면 TCP 랑 UDP 는 속도의 차이가 많기 떄문이다.

- 무상태 프로토콜

서버와 클라이언트 통신 사이에 상태를 유지하지 않기 떄문에 계속해서 추가적인 데이터 전달이 필요하다.

상태유지 : 중간에 서버가 데이터를 유실하면안된다.
상태less : 확장성이 좋다.

예를들어, 상태를 유지할때 여러 서버에서 진행하다가 상태를 유지하던 서버가 장애가나면 다른 서버가 받을 수 없다.

즉, HTTP 요청은 Request 위주로 이루어진다.

실무적인 한계

- 로그인이 필요없는 서비스의 경우 상태가 필요없지만, 로그인의경우 상태를 유지해야된다.

- 비연결성

만약 서버가 클라이언트와 계속해서 연결성을 가지고 있다면, 계속해서 서버쪽에서 유지하면서 자원을 소모한다.

연결을 유지하지 않으면 최소한의 자원만 소모하면 된다.

* 한계

- 3 핸드 쉐이크로 TCP/IP 연결을 새로 맺어야 한다.
- 최근에는 **Persistant Connections** 를 통해서 종료 없이 연결후 요청을 진행한다.

* HTTP 메시지
---

put - 테이블 전체가 바뀔때
patch - 부분적인 변경

content-type, length 는 부가정보이다.

헤더에 대한 정보는 부가정보이다.


